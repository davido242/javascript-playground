<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Testing Javascript</title>
  </head>
  <body>
    <h2>Hi Dave, I'm using your machine to run this javascript web page using V8 engine.</h2>
    <p>Async Awit/ Promise with real world example</p>
    <p id="title"></p>
    <br />
    <p id="message"></p>
    <script>      

      async function fetchDataFromAPI() {
        const url = "https://jsonplaceholder.typicode.com/posts/1";
        try {
          console.log("Fetching data from API....");
          const response = await fetch(url);
          if (!response.ok) {
            throw new Error();
          }
          const data = await response.json();
          console.log("Data Fetched: ", data);
          const title = document.getElementById("title");
          title.innerHTML = data.title;
          const message = document.getElementById("message");
          message.innerHTML = data.body;
        } catch (error) {
          console.log("ðŸš€ ~ file: asyncAwaitRealData.html:17 ~ fetchDataFromAPI ~ error:", error);
        }
      }

      fetchDataFromAPI();

      // function divide(a, b) {
      //   return new Promise((resolve, reject) => {
      //     if (b === 0) {
      //       reject(new Error("Division by zero is not allowed"));
      //     } else {
      //       resolve(a / b);
      //     }
      //   });
      // }
      // async function divideNumber() {
      //   try {
      //     const result = await divide(10, 0);
      //     console.log("Result:", result);
      //   } catch (error) {
      //     console.error("An error occurred:", error.message);
      //   }
      // }
      // divideNumber();
    </script>
  </body>
</html>
